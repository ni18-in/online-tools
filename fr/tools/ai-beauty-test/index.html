<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Test de Beauté IA - Score de Visage Gratuit & Sosie de Célébrité</title>
    <meta name="description"
        content="Obtenez un score de beauté IA gratuit basé sur les traits du visage, trouvez votre sosie célèbre, analysez les parties du visage et comparez des photos avec l'outil Test de Beauté IA. Amusant, interactif et perspicace !">
    <meta name="keywords"
        content="test de beauté ia, score visage, analyse beauté, sosie célébrité, symétrie visage, caractéristiques faciales, outil en ligne, score beauté gratuit, comparaison beauté, comment utiliser test beauté, à propos test beauté">
    <link rel="canonical" href="https://online-tools.ni18.in/fr/tools/ai-beauty-test/" />
    <link rel="alternate" hreflang="en" href="https://online-tools.ni18.in/tools/ai-beauty-test/" />
    <link rel="alternate" hreflang="es" href="https://online-tools.ni18.in/es/tools/ai-beauty-test/" />
    <link rel="alternate" hreflang="fr" href="https://online-tools.ni18.in/fr/tools/ai-beauty-test/" />
    <link rel="alternate" hreflang="x-default" href="https://online-tools.ni18.in/tools/ai-beauty-test/" />

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
    <link rel="manifest" href="/assets/icons/site.webmanifest">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://online-tools.ni18.in/fr/tools/ai-beauty-test/">
    <meta property="og:title" content="Test de Beauté IA - Score de Visage Gratuit & Sosie de Célébrité">
    <meta property="og:description"
        content="Obtenez un score de beauté IA gratuit basé sur les traits du visage, trouvez votre sosie célèbre, analysez les parties du visage et comparez des photos avec l'outil Test de Beauté IA.">
    <meta property="og:image" content="/assets/icons/apple-touch-icon.png">
    <meta property="og:site_name" content="Outils en Ligne NI18">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://online-tools.ni18.in/fr/tools/ai-beauty-test/">
    <meta property="twitter:title" content="Test de Beauté IA - Score de Visage Gratuit & Sosie de Célébrité">
    <meta property="twitter:description"
        content="Obtenez un score de beauté IA gratuit basé sur les traits du visage, trouvez votre sosie célèbre, analysez les parties du visage et comparez des photos avec l'outil Test de Beauté IA.">
    <meta property="twitter:image" content="/assets/icons/apple-touch-icon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Consider minifying this CSS in a build step */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            /* Add smooth scrolling */
        }

        .content-section {
            transition: opacity 0.5s ease-in-out;
        }

        /* Improved File Input Style */
        input[type="file"]::file-selector-button {
            margin-right: 1rem;
            border: none;
            background: #4f46e5;
            /* Indigo-600 */
            padding: 0.6rem 1.2rem;
            /* Slightly larger padding */
            border-radius: 0.375rem;
            /* rounded-md */
            color: white;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            font-weight: 500;
        }

        input[type="file"]::file-selector-button:hover {
            background: #4338ca;
            /* Indigo-700 */
        }

        /* Improved Loader Styles */
        .loader-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 2rem auto;
            /* Increased margin */
            min-height: 90px;
            /* Increased height */
        }

        .loader-spinner {
            border: 5px solid #e5e7eb;
            /* gray-200 */
            border-top: 5px solid #4f46e5;
            /* Indigo-600 */
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
            /* Increased space */
        }

        .loader-text {
            font-size: 1rem;
            /* Slightly larger text */
            color: #4f46e5;
            /* Indigo-600 */
            font-weight: 600;
            /* Bolder */
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Ensure images don't overflow and have consistent styling */
        img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 0.5rem;
            /* rounded-lg */
            background-color: #f3f4f6;
            /* gray-100 for placeholders */
        }

        /* Comparison container adjustments */
        .comparison-container {
            display: flex;
            gap: 1.5rem;
            /* Increased gap */
            justify-content: center;
            align-items: flex-start;
            flex-wrap: wrap;
            /* Allow wrapping on smaller screens */
        }

        .comparison-item {
            flex: 1;
            min-width: 200px;
            /* Adjusted minimum width for better wrapping */
            max-width: calc(50% - 0.75rem);
            /* Adjust max-width for gap */
            text-align: center;
        }

        .comparison-item img {
            margin-bottom: 0.75rem;
            /* Increased margin */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            /* shadow-md */
        }

        /* Info section list styling */
        .info-section ul {
            list-style: none;
            /* Remove default bullets */
            padding-left: 0;
            margin-top: 1rem;
        }

        .info-section li {
            position: relative;
            padding-left: 1.75rem;
            /* Space for icon */
            margin-bottom: 0.75rem;
            color: #4b5563;
            /* gray-600 */
            line-height: 1.6;
            /* Improve readability */
        }

        /* Add checkmark icon */
        .info-section li::before {
            content: '\f00c';
            /* Font Awesome check icon */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: #10b981;
            /* emerald-500 */
            position: absolute;
            left: 0;
            top: 5px;
            /* Adjust vertical alignment slightly */
            font-size: 0.9em;
            /* Slightly smaller icon */
        }

        .info-section strong {
            color: #1f2937;
            /* gray-800 */
            font-weight: 600;
        }

        /* Style for result cards */
        .result-card {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            /* gray-200 */
            border-radius: 0.5rem;
            /* rounded-lg */
            padding: 1rem;
            /* Base padding */
            margin-top: 1.5rem;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            /* shadow-sm */
        }

        @media (min-width: 640px) {

            /* sm breakpoint */
            .result-card {
                padding: 1.5rem;
                /* Larger padding on larger screens */
            }
        }

        .result-card h3,
        .result-card h4 {
            margin-bottom: 1rem;
        }

        /* Score display enhancement */
        .score-display {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 1rem;
            background-color: #f3f4f6;
            /* gray-100 */
            border-radius: 0.375rem;
            /* rounded-md */
            margin-bottom: 0.75rem;
            flex-wrap: wrap;
            /* Allow wrapping inside score display if needed */
        }

        .score-display span:first-child {
            /* Target the label span */
            margin-right: 0.5rem;
            /* Add some space between label and value */
            flex-shrink: 0;
            /* Prevent label from shrinking */
        }

        .score-display i {
            margin-right: 0.5rem;
            /* Reduced icon margin */
            color: #4f46e5;
            /* Indigo-600 */
        }

        .score-value {
            font-weight: 700;
            font-size: 1.125rem;
            /* text-lg */
            color: #1f2937;
            /* gray-800 */
            text-align: right;
            /* Align score value to the right */
            flex-grow: 1;
            /* Allow value to take remaining space */
        }

        /* Showdown Winner Highlight */
        .showdown-winner-card {
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            /* rounded-lg */
            font-size: 1.125rem;
            /* text-lg */
            font-weight: 600;
            margin-top: 1.5rem;
            display: inline-block;
            text-align: center;
        }

        @media (min-width: 640px) {

            /* sm breakpoint */
            .showdown-winner-card {
                font-size: 1.25rem;
                /* text-xl */
            }
        }

        .winner-img1 {
            background-color: #dcfce7;
            color: #15803d;
            border: 1px solid #86efac;
        }

        /* green */
        .winner-img2 {
            background-color: #dbeafe;
            color: #1d4ed8;
            border: 1px solid #93c5fd;
        }

        /* blue */
        .winner-tie {
            background-color: #fef9c3;
            color: #a16207;
            border: 1px solid #fde047;
        }

        /* yellow */

        /* Remove the custom media query as we handle responsiveness via Tailwind classes */
        /* @media (max-width: 768px) { ... } */
    </style>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "AI Beauty Test",
      "url": "https://online-tools.ni18.in/tools/ai-beauty-test/",
      "description": "Get a free AI beauty score based on facial features, find your celebrity look-alike, analyze face parts, and compare photos with the AI Beauty Test tool.",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://online-tools.ni18.in/tools/ai-beauty-test/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "NI18 Online Tools",
        "logo": {
          "@type": "ImageObject",
          "url": "https://online-tools.ni18.in/assets/icons/android-chrome-192x192.png"
        }
      },
       "mainEntity": {
         "@type": "SoftwareApplication",
         "name": "Test de Beauté IA",
         "operatingSystem": "Tout (Navigateur Web)",
         "applicationCategory": "WebApplication",
         "aggregateRating": {
           "@type": "AggregateRating",
           "ratingValue": "4.5",
           "reviewCount": "150"
         },
         "offers": {
           "@type": "Offer",
           "price": "0",
           "priceCurrency": "USD"
         },
         "description": "Un outil en ligne utilisant une IA simulée pour fournir des scores de beauté faciale, des correspondances de sosies célèbres, une analyse des parties du visage et une comparaison d'images.",
         "url": "https://online-tools.ni18.in/fr/tools/ai-beauty-test/"
       }
    }
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RJER6TKTQ3" defer></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-RJER6TKTQ3');
    </script>
</head>

<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 text-gray-800 min-h-screen flex flex-col">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <nav class="container mx-auto px-4 py-3 flex flex-col sm:flex-row justify-between items-center">
            <div class="text-2xl font-bold text-indigo-600 mb-3 sm:mb-0 mr-0 sm:mr-4 flex-shrink-0">
                <i class="fas fa-face-sparkles mr-2"></i>Test de Beauté IA
            </div>
            <div class="flex flex-wrap justify-center sm:justify-end gap-x-1 gap-y-1 sm:gap-x-2 text-xs">
                <button data-target="scanner"
                    class="nav-btn text-gray-600 hover:text-indigo-600 px-2 py-1 text-xs sm:px-3 sm:py-2 sm:text-sm rounded-md font-medium transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
                    <i class="fas fa-camera-retro mr-1"></i>Scanner & Score
                </button>
                <button data-target="lookalike"
                    class="nav-btn text-gray-600 hover:text-indigo-600 px-2 py-1 text-xs sm:px-3 sm:py-2 sm:text-sm rounded-md font-medium transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
                    <i class="fas fa-user-astronaut mr-1"></i>Sosie
                </button>
                <button data-target="analysis"
                    class="nav-btn text-gray-600 hover:text-indigo-600 px-2 py-1 text-xs sm:px-3 sm:py-2 sm:text-sm rounded-md font-medium transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
                    <i class="fas fa-magnifying-glass-chart mr-1"></i>Analyse Visage
                </button>
                <button data-target="showdown"
                    class="nav-btn text-gray-600 hover:text-indigo-600 px-2 py-1 text-xs sm:px-3 sm:py-2 sm:text-sm rounded-md font-medium transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
                    <i class="fas fa-trophy mr-1"></i>Comparaison
                </button>
                <button data-target="how-to-use"
                    class="nav-btn text-gray-600 hover:text-indigo-600 px-2 py-1 text-xs sm:px-3 sm:py-2 sm:text-sm rounded-md font-medium transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
                    <i class="fas fa-circle-question mr-1"></i>Guide
                </button>
                <button data-target="about"
                    class="nav-btn text-gray-600 hover:text-indigo-600 px-2 py-1 text-xs sm:px-3 sm:py-2 sm:text-sm rounded-md font-medium transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
                    <i class="fas fa-circle-info mr-1"></i>À Propos
                </button>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 flex-grow">

        <h1 class="sr-only">Test de Beauté IA : Score de Visage, Sosie et Analyse</h1>

        <section id="scanner" class="content-section bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-lg mb-8">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-semibold text-gray-700 mb-4 flex items-center"><i
                    class="fas fa-camera-retro text-indigo-500 mr-2 sm:mr-3"></i>Scanner de Visage & Score</h2>
            <p class="text-gray-600 mb-6 text-sm sm:text-base">Obtenez un score détaillé basé sur vos caractéristiques
                faciales comme les yeux, les lèvres, le nez, etc. L'analyse de la beauté du visage implique généralement
                l'application de modèles mathématiques pour évaluer l'harmonie et la symétrie.</p>
            <div class="mb-6">
                <label for="scanner-upload"
                    class="block text-sm sm:text-base font-medium text-gray-700 mb-2">Téléchargez votre image :</label>
                <input type="file" id="scanner-upload" accept="image/*"
                    class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" />
            </div>
            <div id="scanner-preview" class="mb-6 text-center">
                <img id="scanner-img-preview" src="https://placehold.co/400x300/e2e8f0/cbd5e1?text=Télécharger+Image"
                    alt="Zone de prévisualisation pour le scan de beauté"
                    class="max-w-full sm:max-w-md mx-auto rounded-lg shadow-md" width="400" height="300" />
            </div>
            <div id="scanner-loader" class="hidden loader-container">
                <div class="loader-spinner"></div>
                <div id="scanner-loader-text" class="loader-text">Chargement 0%</div>
            </div>
            <div id="scanner-results" class="hidden result-card border-indigo-200 bg-indigo-50">
                <h3 class="text-lg sm:text-xl font-semibold text-indigo-800 mb-4 flex items-center"><i
                        class="fas fa-poll mr-2"></i>Résultats de l'Analyse :</h3>
                <div class="score-display bg-white border border-indigo-100">
                    <span><i class="fas fa-star text-yellow-500"></i>Score Global :</span>
                    <span id="scanner-score" class="score-value text-indigo-700">-- / 100</span>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4">
                    <div class="score-display">
                        <span><i class="fas fa-eye"></i>Score Yeux :</span>
                        <span id="scanner-eyes" class="score-value">--</span>
                    </div>
                    <div class="score-display">
                        <span><i class="fas fa-lips"></i>Score Lèvres :</span>
                        <span id="scanner-lips" class="score-value">--</span>
                    </div>
                    <div class="score-display">
                        <span><i class="fas fa-draw-polygon"></i>Score Nez :</span> <span id="scanner-nose"
                            class="score-value">--</span>
                    </div>
                    <div class="score-display">
                        <span><i class="fas fa-vector-square"></i>Score Symétrie :</span>
                        <span id="scanner-symmetry" class="score-value">--</span>
                    </div>
                </div>
                <p class="mt-4 text-xs text-gray-500 italic">*Les résultats peuvent ne pas être 100% précis.</p>
            </div>
        </section>

        <section id="lookalike" class="content-section bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-lg mb-8 hidden">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-semibold text-gray-700 mb-4 flex items-center"><i
                    class="fas fa-user-astronaut text-purple-500 mr-2 sm:mr-3"></i>Sosie de Célébrité</h2>
            <p class="text-gray-600 mb-6 text-sm sm:text-base">Voyez à quelle célébrité vous ressemblez le plus ! Nos
                algorithmes recherchent des similitudes dans les traits du visage tels que les dimensions et la
                structure osseuse.</p>
            <div class="mb-6">
                <label for="lookalike-upload"
                    class="block text-sm sm:text-base font-medium text-gray-700 mb-2">Téléchargez votre image :</label>
                <input type="file" id="lookalike-upload" accept="image/*"
                    class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" />
            </div>
            <div id="lookalike-preview" class="mb-6 text-center">
                <img id="lookalike-img-preview" src="https://placehold.co/400x300/e2e8f0/cbd5e1?text=Télécharger+Image"
                    alt="Zone de prévisualisation pour le sosie"
                    class="max-w-full sm:max-w-md mx-auto rounded-lg shadow-md" width="400" height="300" />
            </div>
            <div id="lookalike-loader" class="hidden loader-container">
                <div class="loader-spinner"></div>
                <div id="lookalike-loader-text" class="loader-text">Chargement 0%</div>
            </div>
            <div id="lookalike-results" class="hidden result-card border-green-200 bg-green-50 text-center">
                <h3 class="text-lg sm:text-xl font-semibold text-green-800 mb-4 flex items-center justify-center"><i
                        class="fas fa-award mr-2"></i>Votre Sosie de Célébrité :</h3>
                <img id="celebrity-img" src="https://placehold.co/160x160/e2e8f0/cbd5e1?text=Célébrité"
                    alt="Placeholder de Correspondance Célébrité"
                    class="w-32 h-32 sm:w-40 sm:h-40 rounded-full mx-auto mb-4 shadow-lg object-cover border-4 border-white"
                    loading="lazy" width="160" height="160" />
                <p class="text-xl sm:text-2xl font-semibold text-gray-800"><span id="celebrity-name">--</span></p>
                <p class="text-gray-600 text-base sm:text-lg mt-1">Confiance : <span id="celebrity-confidence"
                        class="font-bold text-green-700">--</span>%</p>
                <p class="mt-4 text-xs text-gray-500 italic">*Les résultats peuvent ne pas être 100% précis.</p>
            </div>
        </section>

        <section id="analysis" class="content-section bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-lg mb-8 hidden">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-semibold text-gray-700 mb-4 flex items-center"><i
                    class="fas fa-magnifying-glass-chart text-blue-500 mr-2 sm:mr-3"></i>Analyse des Parties du Visage
            </h2>
            <p class="text-gray-600 mb-6 text-sm sm:text-base">Recevez des informations sur des parties spécifiques du
                visage, telles que les yeux, les lèvres, les sourcils et le nez.</p>
            <div class="mb-6">
                <label for="analysis-upload"
                    class="block text-sm sm:text-base font-medium text-gray-700 mb-2">Téléchargez votre image :</label>
                <input type="file" id="analysis-upload" accept="image/*"
                    class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" />
            </div>
            <div id="analysis-preview" class="mb-6 text-center">
                <img id="analysis-img-preview" src="https://placehold.co/400x300/e2e8f0/cbd5e1?text=Télécharger+Image"
                    alt="Zone de prévisualisation pour l'analyse"
                    class="max-w-full sm:max-w-md mx-auto rounded-lg shadow-md" width="400" height="300" />
            </div>
            <div id="analysis-loader" class="hidden loader-container">
                <div class="loader-spinner"></div>
                <div id="analysis-loader-text" class="loader-text">Chargement 0%</div>
            </div>
            <div id="analysis-results" class="hidden mt-6 space-y-4 sm:space-y-5">
                <div class="result-card border-blue-200 bg-blue-50">
                    <h4 class="text-base sm:text-lg font-semibold text-blue-800 flex items-center"><i
                            class="fas fa-eye mr-2"></i>Analyse des Yeux :</h4>
                    <p id="analysis-eyes-text" class="text-gray-700 text-sm">Téléchargez une image pour voir l'analyse.
                    </p>
                </div>
                <div class="result-card border-pink-200 bg-pink-50">
                    <h4 class="text-base sm:text-lg font-semibold text-pink-800 flex items-center"><i
                            class="fas fa-lips mr-2"></i>Analyse des Lèvres :</h4>
                    <p id="analysis-lips-text" class="text-gray-700 text-sm">Téléchargez une image pour voir l'analyse.
                    </p>
                </div>
                <div class="result-card border-purple-200 bg-purple-50">
                    <h4 class="text-base sm:text-lg font-semibold text-purple-800 flex items-center">
                        <i class="fas fa-draw-polygon mr-2"></i>Analyse du Nez :
                    </h4>
                    <p id="analysis-nose-text" class="text-gray-700 text-sm">Téléchargez une image pour voir l'analyse.
                    </p>
                </div>
                <p class="mt-4 text-xs text-gray-500 italic">*Les résultats peuvent ne pas être 100% précis.</p>
            </div>
        </section>

        <section id="showdown" class="content-section bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-lg mb-8 hidden">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-semibold text-gray-700 mb-4 flex items-center"><i
                    class="fas fa-trophy text-yellow-500 mr-2 sm:mr-3"></i>Duel de Beauté</h2>
            <p class="text-gray-600 mb-6 text-sm sm:text-base">Téléchargez deux images, comparez leurs scores de beauté
                IA basés sur la symétrie et les proportions faciales, et trouvez le gagnant !</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6">
                <div>
                    <label for="showdown-upload1"
                        class="block text-sm sm:text-base font-medium text-gray-700 mb-2">Image 1 :</label>
                    <input type="file" id="showdown-upload1" accept="image/*"
                        class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" />
                </div>
                <div>
                    <label for="showdown-upload2"
                        class="block text-sm sm:text-base font-medium text-gray-700 mb-2">Image 2 :</label>
                    <input type="file" id="showdown-upload2" accept="image/*"
                        class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" />
                </div>
            </div>
            <div id="showdown-preview" class="mb-6 comparison-container">
                <div class="comparison-item">
                    <img id="showdown-img-preview1" src="https://placehold.co/300x225/e2e8f0/cbd5e1?text=Image+1"
                        alt="Aperçu Image 1" class="mx-auto rounded-lg shadow-md" loading="lazy" width="300"
                        height="225" />
                    <p class="text-xs sm:text-sm text-gray-600 font-medium mt-2">Image 1</p>
                </div>
                <div class="comparison-item">
                    <img id="showdown-img-preview2" src="https://placehold.co/300x225/e2e8f0/cbd5e1?text=Image+2"
                        alt="Aperçu Image 2" class="mx-auto rounded-lg shadow-md" loading="lazy" width="300"
                        height="225" />
                    <p class="text-xs sm:text-sm text-gray-600 font-medium mt-2">Image 2</p>
                </div>
            </div>
            <div id="showdown-loader" class="hidden loader-container">
                <div class="loader-spinner"></div>
                <div id="showdown-loader-text" class="loader-text">Chargement 0%</div>
            </div>
            <div id="showdown-results" class="hidden result-card border-yellow-200 bg-yellow-50 text-center">
                <h3 class="text-lg sm:text-xl font-semibold text-yellow-800 mb-5 flex items-center justify-center"><i
                        class="fas fa-balance-scale mr-2"></i>Résultats du Duel :</h3>
                <div class="flex flex-col sm:flex-row justify-around items-center mb-5 gap-4">
                    <div
                        class="text-center p-3 sm:p-4 bg-white rounded-lg shadow-sm border border-gray-200 w-full sm:w-auto">
                        <p class="text-gray-700 font-medium text-sm sm:text-base mb-1">Score Image 1</p>
                        <p id="showdown-score1" class="text-2xl sm:text-3xl font-bold text-indigo-600">--</p>
                    </div>
                    <div class="text-gray-400 text-xl sm:text-2xl font-light hidden sm:block">vs</div>
                    <div
                        class="text-center p-3 sm:p-4 bg-white rounded-lg shadow-sm border border-gray-200 w-full sm:w-auto">
                        <p class="text-gray-700 font-medium text-sm sm:text-base mb-1">Score Image 2</p>
                        <p id="showdown-score2" class="text-2xl sm:text-3xl font-bold text-indigo-600">--</p>
                    </div>
                </div>
                <div id="showdown-winner" class="showdown-winner-card">
                </div>
                <p class="mt-4 text-xs text-gray-500 italic">*Les résultats peuvent ne pas être 100% précis.</p>
            </div>
        </section>

        <section id="how-to-use"
            class="content-section info-section bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-lg mb-8 hidden">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-semibold text-gray-700 mb-4 flex items-center"><i
                    class="fas fa-circle-question text-teal-500 mr-2 sm:mr-3"></i>Comment Utiliser le Test de Beauté IA
            </h2>
            <p class="text-gray-600 mb-6 text-sm sm:text-base">Utiliser le Test de Beauté IA est simple et amusant !
                Suivez ces étapes :</p>
            <ul>
                <li><strong>Sélectionnez une Fonctionnalité :</strong> Cliquez sur l'un des boutons dans la navigation
                    de l'en-tête (<i class="fas fa-camera-retro text-xs"></i> Scanner & Score, <i
                        class="fas fa-user-astronaut text-xs"></i> Sosie, etc.) pour choisir l'analyse que vous
                    souhaitez effectuer.</li>
                <li><strong>Téléchargez Image(s) :</strong> Cliquez sur le bouton "Téléchargez votre image". Choisissez
                    une photo claire d'un visage. Pour "<i class="fas fa-trophy text-xs"></i> Duel de Beauté",
                    téléchargez deux images.</li>
                <li><strong>Attendez l'Analyse :</strong> L'outil simule une analyse. Vous verrez un indicateur de
                    chargement (<span
                        class="loader-spinner inline-block w-4 h-4 border-2 border-t-indigo-500 align-middle"></span>).
                </li>
                <li><strong>Voir les Résultats :</strong> Une fois terminé, vos résultats (scores, correspondance,
                    analyse, comparaison) apparaissent ci-dessous.</li>
                <li><strong>Essayez-en une autre ! :</strong> N'hésitez pas à essayer différentes fonctionnalités ou
                    images.</li>
            </ul>
            <p class="mt-6 text-xs sm:text-sm text-gray-500 bg-gray-100 p-3 rounded-md border border-gray-200"><i
                    class="fas fa-info-circle mr-2 text-gray-500"></i><strong>Note :</strong> Cet outil est uniquement à
                des fins de divertissement. L'analyse "IA" est simulée en fonction du nom du fichier.</p>
        </section>

        <section id="about"
            class="content-section info-section bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-lg mb-8 hidden">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-semibold text-gray-700 mb-4 flex items-center"><i
                    class="fas fa-circle-info text-cyan-500 mr-2 sm:mr-3"></i>À Propos du Test de Beauté IA</h2>
            <p class="text-gray-600 mb-4 text-sm sm:text-base">Bienvenue sur le Test de Beauté IA, votre destination
                amusante pour explorer les caractéristiques faciales grâce à une analyse IA simulée !</p>
            <p class="text-gray-600 mb-2 text-sm sm:text-base"><strong>Ce qu'il fait (Simulé) :</strong></p>
            <ul>
                <li>Fournit des "scores de beauté" basés sur les caractéristiques faciales générales.</li>
                <li>Correspond votre photo à un sosie de célébrité.</li>
                <li>Offre des interprétations des parties du visage basées sur des concepts traditionnels de lecture du
                    visage.</li>
                <li>Compare les "scores de beauté" de deux images différentes.</li>
            </ul>
            <p class="text-gray-600 mt-6 mb-2 text-sm sm:text-base"><strong><i
                        class="fas fa-triangle-exclamation text-red-500 mr-1"></i> Avertissement Important :</strong>
            </p>
            <ul class="[&>li]:before:content-['\f071'] [&>li]:before:text-red-500 text-sm sm:text-base">
                <li><strong>Divertissement Uniquement :</strong> Cet outil est conçu uniquement pour le divertissement.
                    Les résultats sont simulés et ne reflètent pas une analyse scientifique ou des mesures objectives de
                    la beauté.</li>
                <li><strong>IA Simulée :</strong> L'analyse "IA" utilise le nom de fichier de l'image téléchargée pour
                    la démonstration. Aucun traitement d'image réel ou modélisation IA complexe n'a lieu.</li>
                <li><strong>Pas de Stockage de Données :</strong> Les images sont traitées localement dans votre
                    navigateur pour l'aperçu et la récupération du nom de fichier uniquement. Elles ne sont PAS envoyées
                    à un serveur ni stockées.</li>
                <li><strong>Subjectivité de la Beauté :</strong> La beauté est subjective et diverse. Cet outil ne
                    définit ni ne juge les normes de beauté.</li>
            </ul>
            <p class="text-gray-600 mt-6 text-sm sm:text-base">Nous espérons que vous apprécierez l'exploration des
                fonctionnalités du Test de Beauté IA !</p>
        </section>

        <section id="why-choose" aria-labelledby="why-choose-heading"
            class="content-section bg-gradient-to-r from-indigo-100 via-purple-100 to-pink-100 p-4 sm:p-6 md:p-8 rounded-lg shadow-lg mb-8 mt-12">
            <h2 id="why-choose-heading"
                class="text-xl sm:text-2xl md:text-3xl font-semibold text-gray-700 mb-6 text-center">Pourquoi Choisir le
                Test de Beauté IA ?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-center">
                <div class="p-4 sm:p-6 rounded-lg bg-white shadow-sm border border-gray-200">
                    <i class="fas fa-brain text-4xl sm:text-5xl text-indigo-500 mb-3" aria-hidden="true"></i>
                    <h3 class="font-semibold text-lg sm:text-xl text-indigo-800 mb-2">Perspectives IA*</h3>
                    <p class="text-sm sm:text-base text-gray-600">Résultats attrayants propulsés par des algorithmes IA
                        *simulés* pour le plaisir.</p>
                </div>
                <div class="p-4 sm:p-6 rounded-lg bg-white shadow-sm border border-gray-200">
                    <i class="fas fa-puzzle-piece text-4xl sm:text-5xl text-pink-500 mb-3" aria-hidden="true"></i>
                    <h3 class="font-semibold text-lg sm:text-xl text-pink-800 mb-2">Amusant et Interactif</h3>
                    <p class="text-sm sm:text-base text-gray-600">Parfait pour le divertissement, la découverte de soi
                        et le partage avec des amis.</p>
                </div>
            </div>
            <p class="text-center mt-6 sm:mt-8 text-base sm:text-lg text-gray-700 font-medium">Explorez une nouvelle
                perspective avec le Test de Beauté IA !</p>
        </section>

    </main>

    <footer class="bg-gray-800 text-gray-300 mt-12 py-6 shadow-inner">
        <div class="container mx-auto px-4 text-center text-xs sm:text-sm">
            &copy; <span id="current-year"></span> Test de Beauté IA. Tous droits réservés.
            <br class="sm:hidden"> <span class="hidden sm:inline mx-1">|</span>
            <span>Le Test de Beauté IA est uniquement à des fins de divertissement.</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous" defer></script>

    <script>
        // Wrap the entire script in a DOMContentLoaded listener for robustness
        document.addEventListener('DOMContentLoaded', function () {

            // --- Feature State Management ---
            const featureState = {
                // Reduced initial delays for quicker testing/demo
                scanner: { delay: 2500, intervalId: null, timeoutId: null, loaderTextId: 'scanner-loader-text', loaderId: 'scanner-loader', resultsId: 'scanner-results' },
                lookalike: { delay: 3000, intervalId: null, timeoutId: null, loaderTextId: 'lookalike-loader-text', loaderId: 'lookalike-loader', resultsId: 'lookalike-results' },
                analysis: { delay: 2000, intervalId: null, timeoutId: null, loaderTextId: 'analysis-loader-text', loaderId: 'analysis-loader', resultsId: 'analysis-results' },
                showdown: { delay: 3500, intervalId: null, timeoutId: null, loaderTextId: 'showdown-loader-text', loaderId: 'showdown-loader', resultsId: 'showdown-results' },
                'how-to-use': { resultsId: 'how-to-use' },
                about: { resultsId: 'about' },
                'why-choose': { resultsId: 'why-choose' }
            };
            const DELAY_INCREMENT = 500; // Smaller increment

            // --- Navigation ---
            // Use event delegation for potentially dynamic elements (though not strictly needed here)
            $(document).on('click', '.nav-btn', function () {
                const targetId = $(this).data('target');
                const $targetElement = $('#' + targetId);

                if (!$targetElement.length) return; // Exit if target doesn't exist

                // Hide all content sections (except 'why-choose' initially)
                $('.content-section').not('#why-choose').addClass('hidden');
                // Remove active styles from all buttons
                $('.nav-btn').removeClass('text-indigo-600 bg-indigo-100 font-semibold').addClass('text-gray-600 font-medium');

                // Show the target section
                $targetElement.removeClass('hidden');
                // Add active styles to the clicked button
                $(this).addClass('text-indigo-600 bg-indigo-100 font-semibold').removeClass('text-gray-600 font-medium');

                // Show 'Why Choose' only if a feature section is active
                if (targetId === 'scanner' || targetId === 'lookalike' || targetId === 'analysis' || targetId === 'showdown') {
                    $('#why-choose').removeClass('hidden');
                } else {
                    $('#why-choose').addClass('hidden'); // Hide for 'How to Use' and 'About'
                }

                // Smooth scroll to the section
                const headerHeight = $('header').outerHeight() || 60; // Get header height or default
                $('html, body').animate({
                    scrollTop: $targetElement.offset().top - headerHeight - 15 // Adjust offset for sticky header + margin
                }, 300);
            });

            // --- Utility Functions ---
            function showLoader(loaderId, textElementId = null, initialText = "Chargement 0%") {
                $('#' + loaderId).removeClass('hidden');
                if (textElementId) {
                    $('#' + textElementId).text(initialText);
                }
            }
            function hideLoader(loaderId) {
                $('#' + loaderId).addClass('hidden');
            }
            function showResults(resultsId) {
                $('#' + resultsId).removeClass('hidden');
            }
            function hideResults(resultsId) { $('#' + resultsId).addClass('hidden'); }

            // Function to clear timers for a specific feature
            function clearFeatureTimers(featureKey) {
                const state = featureState[featureKey];
                // Add checks for state existence
                if (!state || (!state.intervalId && !state.timeoutId)) return;

                if (state.intervalId) {
                    clearInterval(state.intervalId);
                    state.intervalId = null;
                }
                if (state.timeoutId) {
                    clearTimeout(state.timeoutId);
                    state.timeoutId = null;
                }
                // Check if loaderTextId exists before trying to access it
                if (state.loaderTextId && $('#' + state.loaderTextId).length) {
                    $('#' + state.loaderTextId).text('Chargement 0%');
                }
            }

            // Function to start the progressive loading process
            function startProgressiveLoad(featureKey, loadingTextPrefix, onComplete) {
                const state = featureState[featureKey];
                // Add checks for state and delay property
                if (!state || typeof state.delay === 'undefined') return;

                // Ensure previous timers for this feature are cleared
                clearFeatureTimers(featureKey);
                // Check if resultsId exists before hiding
                if (state.resultsId) hideResults(state.resultsId);

                const startTime = Date.now();
                const totalDelay = state.delay;

                // Check if loader elements exist before showing
                if (state.loaderId && state.loaderTextId) {
                    showLoader(state.loaderId, state.loaderTextId, `${loadingTextPrefix} 0%`);
                }

                // Clear previous interval if any (safety check)
                if (state.intervalId) clearInterval(state.intervalId);

                state.intervalId = setInterval(() => {
                    const elapsedTime = Date.now() - startTime;
                    let percentage = Math.min(100, Math.floor((elapsedTime / totalDelay) * 100));
                    // Check if loaderTextId exists before updating
                    if (state.loaderTextId && $('#' + state.loaderTextId).length) {
                        $('#' + state.loaderTextId).text(`${loadingTextPrefix} ${percentage}%`);
                    }
                    // Clear interval inside itself when 100% is reached
                    if (percentage >= 100) {
                        clearInterval(state.intervalId);
                        state.intervalId = null;
                    }
                }, 100);

                // Clear previous timeout if any (safety check)
                if (state.timeoutId) clearTimeout(state.timeoutId);

                state.timeoutId = setTimeout(() => {
                    // Ensure interval is cleared if timeout finishes first
                    if (state.intervalId) {
                        clearInterval(state.intervalId);
                        state.intervalId = null;
                    }
                    // Check if loaderTextId exists before updating
                    if (state.loaderTextId && $('#' + state.loaderTextId).length) {
                        $('#' + state.loaderTextId).text(`${loadingTextPrefix} 100%`);
                    }

                    // Execute the completion callback
                    if (typeof onComplete === 'function') {
                        onComplete();
                    }

                    // Check if loaderId and resultsId exist before hiding/showing
                    if (state.loaderId) hideLoader(state.loaderId);
                    if (state.resultsId) showResults(state.resultsId);

                    // Increment delay for the *next* time this feature is used
                    state.delay += DELAY_INCREMENT;
                    state.timeoutId = null; // Clear timeout ID

                }, totalDelay);
            }

            // Simple hash function (remains the same)
            function simpleHash(str) {
                let hash = 0;
                if (!str || str.length === 0) return hash;
                for (let i = 0; i < str.length; i++) {
                    const char = str.charCodeAt(i);
                    hash = ((hash << 5) - hash) + char;
                    hash |= 0; // Convert to 32bit integer
                }
                return Math.abs(hash);
            }

            // Generic function to handle image preview
            function previewImage(inputId, previewImgId) {
                const input = document.getElementById(inputId);
                // Add safety check for input element
                if (!input) return null;

                const file = input.files ? input.files[0] : null;
                const $previewElement = $('#' + previewImgId);
                // Add safety check for preview element
                if (!$previewElement.length) return null;


                if (file && file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        $previewElement.attr('src', e.target.result);
                        // Update alt text safely
                        let baseAlt = $previewElement.attr('alt')?.split(' - ')[0] || "Zone de prévisualisation";
                        $previewElement.attr('alt', `${baseAlt} - Aperçu de ${file.name}`);
                    }
                    reader.onerror = function () { // Handle potential read errors
                        console.error("Error reading file:", file.name);
                        resetPreview(previewImgId); // Reset on error
                    }
                    reader.readAsDataURL(file);
                    return file;
                } else {
                    resetPreview(previewImgId); // Reset if no file or invalid type
                    if (file && !file.type.startsWith('image/')) {
                        // Use a more robust notification method if available, otherwise alert
                        alert("Veuillez télécharger un fichier image valide (ex: JPG, PNG, GIF).");
                    }
                    return null;
                }
            }

            // Helper function to reset image preview and alt text
            function resetPreview(previewImgId) {
                const $previewElement = $('#' + previewImgId);
                if (!$previewElement.length) return;

                const placeholder = `https://placehold.co/${$previewElement.attr('width') || 400}x${$previewElement.attr('height') || 300}/e2e8f0/cbd5e1?text=Télécharger+Image`;
                $previewElement.attr('src', placeholder);

                let originalAlt = "Zone de prévisualisation pour l'image téléchargée";
                // Determine original alt text based on ID
                if (previewImgId === 'scanner-img-preview') originalAlt = "Zone de prévisualisation pour le scan de beauté";
                else if (previewImgId === 'lookalike-img-preview') originalAlt = "Zone de prévisualisation pour le sosie";
                else if (previewImgId === 'analysis-img-preview') originalAlt = "Zone de prévisualisation pour l'analyse";
                else if (previewImgId === 'showdown-img-preview1') originalAlt = "Aperçu Image 1";
                else if (previewImgId === 'showdown-img-preview2') originalAlt = "Aperçu Image 2";
                else if (previewImgId === 'celebrity-img') originalAlt = "Placeholder de Correspondance Célébrité";

                $previewElement.attr('alt', originalAlt);
            }


            // --- Feature Logic (Event Handlers) ---

            // 1. Face Scanner
            $('#scanner-upload').on('change', function () {
                const featureKey = 'scanner';
                const file = previewImage('scanner-upload', 'scanner-img-preview');

                if (file) {
                    const filename = file.name;
                    const onCompleteScanner = () => {
                        const hash = simpleHash(filename);
                        const overallScore = (hash % 41) + 60;
                        const eyesScore = ((hash + 10) % 36) + 65;
                        const lipsScore = ((hash + 20) % 31) + 60;
                        const noseScore = ((hash + 30) % 36) + 62;
                        const symmetryScore = ((hash + 40) % 26) + 70;

                        $('#scanner-score').text(`${overallScore} / 100`);
                        $('#scanner-eyes').text(eyesScore);
                        $('#scanner-lips').text(lipsScore);
                        $('#scanner-nose').text(noseScore);
                        $('#scanner-symmetry').text(symmetryScore);
                    };
                    startProgressiveLoad(featureKey, "Scan en cours", onCompleteScanner);
                } else {
                    clearFeatureTimers(featureKey);
                    if (featureState[featureKey]?.loaderId) hideLoader(featureState[featureKey].loaderId);
                    if (featureState[featureKey]?.resultsId) hideResults(featureState[featureKey].resultsId);
                    // Reset scores
                    $('#scanner-score').text('-- / 100');
                    $('#scanner-eyes, #scanner-lips, #scanner-nose, #scanner-symmetry').text('--');
                }
            });

            // 2. Celebrity Look-Alike
            const celebrities = [ // Using slightly more descriptive placeholders
                { name: "Exemple Élégance", img: "https://placehold.co/160x160/FFC0CB/4a4a4a?text=EE" },
                { name: "Dynamo Dashing", img: "https://placehold.co/160x160/ADD8E6/4a4a4a?text=DD" },
                { name: "Étoile Radieuse", img: "https://placehold.co/160x160/90EE90/4a4a4a?text=ER" },
                { name: "Champion Charmant", img: "https://placehold.co/160x160/FFFFE0/4a4a4a?text=CC" },
                { name: "Icône Glamour", img: "https://placehold.co/160x160/E6E6FA/4a4a4a?text=IG" },
                { name: "Figure Héroïque", img: "https://placehold.co/160x160/D3D3D3/4a4a4a?text=FH" },
                { name: "Sirène Superbe", img: "https://placehold.co/160x160/FFA07A/4a4a4a?text=SS" }
            ];
            $('#lookalike-upload').on('change', function () {
                const featureKey = 'lookalike';
                const file = previewImage('lookalike-upload', 'lookalike-img-preview');

                if (file) {
                    const filename = file.name;
                    const onCompleteLookalike = () => {
                        const hash = simpleHash(filename);
                        const randomIndex = hash % celebrities.length;
                        const match = celebrities[randomIndex];
                        const confidence = ((hash + 5) % 36) + 65;

                        $('#celebrity-name').text(match.name);
                        // Update src and alt text for the result image
                        $('#celebrity-img').attr('src', match.img).attr('alt', `Correspondance de célébrité simulée : ${match.name}`);
                        $('#celebrity-confidence').text(confidence);
                    };
                    startProgressiveLoad(featureKey, "Recherche de correspondances", onCompleteLookalike);
                } else {
                    clearFeatureTimers(featureKey);
                    if (featureState[featureKey]?.loaderId) hideLoader(featureState[featureKey].loaderId);
                    if (featureState[featureKey]?.resultsId) hideResults(featureState[featureKey].resultsId);
                    // Reset lookalike info
                    $('#celebrity-name').text('--');
                    $('#celebrity-confidence').text('--');
                    resetPreview('celebrity-img'); // Reset the image placeholder
                }
            });

            // 3. Face Parts Analysis
            const analysisTexts = { // Descriptions remain the same
                eyes: [
                    "Yeux expressifs, indiquant souvent un observateur attentif avec un monde intérieur vibrant.",
                    "Yeux enfoncés, suggérant une nature réfléchie, introspective et peut-être mystérieuse.",
                    "Yeux écartés, laissant entendre une perspective large et ouverte et une tolérance aux idées nouvelles.",
                    "Yeux clairs et brillants, reflétant une énergie abondante, de la curiosité et de l'enthousiasme pour la vie.",
                    "Yeux en amande, souvent considérés comme équilibrés, esthétiquement plaisants et indiquant potentiellement une sensibilité artistique."
                ],
                lips: [
                    "Lèvres pleines, souvent associées à la générosité, à la chaleur et à de forts instincts nourriciers.",
                    "Lèvres fines, suggérant une personnalité plus réservée, précise et peut-être soucieuse du détail.",
                    "Un arc de cupidon défini, indiquant la créativité, de fortes compétences en communication et de l'éloquence.",
                    "Lèvres équilibrées et symétriques, reflétant l'équilibre émotionnel, la stabilité et l'équité.",
                    "Un sourire naturellement tourné vers le haut, véhiculant l'accessibilité, l'optimisme et une disposition amicale."
                ],
                nose: [
                    "Un pont de nez droit, souvent lié à la logique, à l'organisation et à une approche méthodique.",
                    "Un nez proéminent ou fort, suggérant des qualités de leadership, de l'ambition et de la détermination.",
                    "Un nez plus petit et raffiné, laissant entendre une sensibilité, une attention aux détails et des goûts raffinés.",
                    "Un bout de nez arrondi, associé à un comportement amical, accessible et sociable.",
                    "Un nez légèrement retroussé, parfois lié à l'optimisme, à la curiosité et à l'espièglerie."
                ]
            };
            $('#analysis-upload').on('change', function () {
                const featureKey = 'analysis';
                const file = previewImage('analysis-upload', 'analysis-img-preview');

                const resetAnalysisText = () => {
                    $('#analysis-eyes-text, #analysis-lips-text, #analysis-nose-text').text('Téléchargez une image pour voir l\'analyse.');
                }

                resetAnalysisText(); // Reset text initially

                if (file) {
                    const filename = file.name;
                    const onCompleteAnalysis = () => {
                        const hash = simpleHash(filename);
                        $('#analysis-eyes-text').text(analysisTexts.eyes[(hash + 1) % analysisTexts.eyes.length]);
                        $('#analysis-lips-text').text(analysisTexts.lips[(hash + 2) % analysisTexts.lips.length]);
                        $('#analysis-nose-text').text(analysisTexts.nose[(hash + 3) % analysisTexts.nose.length]);
                    };
                    startProgressiveLoad(featureKey, "Analyse des caractéristiques", onCompleteAnalysis);
                } else {
                    clearFeatureTimers(featureKey);
                    if (featureState[featureKey]?.loaderId) hideLoader(featureState[featureKey].loaderId);
                    if (featureState[featureKey]?.resultsId) hideResults(featureState[featureKey].resultsId);
                    resetAnalysisText(); // Ensure text remains reset
                }
            });

            // 4. Beauty Showdown
            let showdownFilesReady = { file1: false, file2: false };
            let showdownFileNames = { file1: null, file2: null };

            function checkShowdownReady() {
                const featureKey = 'showdown';
                const resetShowdownUi = () => {
                    $('#showdown-score1, #showdown-score2').text('--');
                    $('#showdown-winner').html('').removeClass('winner-img1 winner-img2 winner-tie'); // Clear HTML and classes
                }

                if (showdownFilesReady.file1 && showdownFilesReady.file2) {
                    const onCompleteShowdown = () => {
                        const hash1 = simpleHash(showdownFileNames.file1 || ""); // Add fallback for null
                        const hash2 = simpleHash(showdownFileNames.file2 || ""); // Add fallback for null
                        const score1 = ((hash1 + 50) % 46) + 55;
                        const score2 = ((hash2 + 60) % 46) + 55;

                        $('#showdown-score1').text(score1);
                        $('#showdown-score2').text(score2);

                        let winnerText = '';
                        let winnerClass = '';
                        if (score1 > score2) {
                            winnerText = '<i class="fas fa-crown mr-1 sm:mr-2"></i> Image 1 Gagne !';
                            winnerClass = 'winner-img1';
                        } else if (score2 > score1) {
                            winnerText = '<i class="fas fa-crown mr-1 sm:mr-2"></i> Image 2 Gagne !';
                            winnerClass = 'winner-img2';
                        } else {
                            winnerText = '<i class="fas fa-handshake mr-1 sm:mr-2"></i> C\'est une Égalité !';
                            winnerClass = 'winner-tie';
                        }
                        $('#showdown-winner')
                            .html(winnerText)
                            .removeClass('winner-img1 winner-img2 winner-tie')
                            .addClass(winnerClass);
                    };
                    startProgressiveLoad(featureKey, "Comparaison des scores", onCompleteShowdown);
                } else {
                    // If one or both files are missing/invalid, clear UI
                    clearFeatureTimers(featureKey);
                    if (featureState[featureKey]?.loaderId) hideLoader(featureState[featureKey].loaderId);
                    if (featureState[featureKey]?.resultsId) hideResults(featureState[featureKey].resultsId);
                    resetShowdownUi();
                }
            }

            $('#showdown-upload1').on('change', function () {
                const file = previewImage('showdown-upload1', 'showdown-img-preview1');
                showdownFilesReady.file1 = !!file;
                showdownFileNames.file1 = file ? file.name : null;
                checkShowdownReady();
            });

            $('#showdown-upload2').on('change', function () {
                const file = previewImage('showdown-upload2', 'showdown-img-preview2');
                showdownFilesReady.file2 = !!file;
                showdownFileNames.file2 = file ? file.name : null;
                checkShowdownReady();
            });

            // --- Initialization ---
            $('#current-year').text(new Date().getFullYear());

            // Set initial active button and section
            $('.nav-btn[data-target="scanner"]')
                .addClass('text-indigo-600 bg-indigo-100 font-semibold')
                .removeClass('text-gray-600 font-medium');

            // Hide all content sections initially, except the default and 'why-choose'
            $('.content-section').addClass('hidden');
            $('#scanner').removeClass('hidden');
            $('#why-choose').removeClass('hidden');

        }); // End DOMContentLoaded
    </script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9080750085757406"
        crossorigin="anonymous"></script>
    <!-- Free Online Image Utility Tool -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9080750085757406" data-ad-slot="2773802330"
        data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

</body>

</html>